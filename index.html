<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/png" href="data:image/png;base64,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" />
    <title>API</title>
</head>
<body>
    <h1>Application Programming Interface</h1>
    <h3>API public</h3>
    <p>
        Pour plus d'information, voir code source, la consigne étant d'utiliser une api et récuperer la météo pour la ville de lyon, pour cela je dois faire un script.
    </p>
    <h3>Lien vers des API public</h3>
    <a href="http://openweathermap.org/api" title="API public">API public</a>
    <h3>Lien vers API GET METEO</h3>
    <a href="https://www.metaweather.com/api/
" title="API public">API public</a>
    <!-- Add script for get data of lyon (weather). -->
    <script>
        "use strict";
        //constante = variable qui change pas
        const key = "2cc7d408f527de19889ec31f5c22aa33";
        let xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function(event) {
            // XMLHttpRequest.DONE === 4
            if (this.readyState === XMLHttpRequest.DONE) {
                if (this.status === 200) {
                    console.log("Réponse reçu: %s", this.responseText);
                } else {
                    console.log("Status de la réponse: %d (%s)", this.status, this.statusText);
                }
            }
        };

        xhr.open('GET', 'http://api.openweathermap.org/data/2.5/weather?q=lyon&APPID=' + key, true);
        xhr.send(null);

        //Constance ne change jamais.
        const Appid = "2cc7d408f527de19889ec31f5c22aa33";
        let city = "Lyon";

        // Ici, la requête sera émise de façon synchrone.
        let req = new XMLHttpRequest();
        req.open('GET', 'http://api.openweathermap.org/data/2.5/weather?q=' + city + '&APPID=' + Appid , true); 
        req.send(null);

        if (req.status === 200) {
            console.log("Réponse reçu: %s", req.responseText);
        } else {
            console.log("Status de la réponse: %d (%s)", req.status, req.statusText);
        }

        let query = new XMLHttpRequest();
        // api.openweathermap.org/data/2.5/weather?q={city name}&APPID={key}
        query.open("GET", "api.openweathermap.org/data/2.5/weather?q=Lyon&APPID=2cc7d408f527de19889ec31f5c22aa33", true);
        query.onreadystatechange = function() {
            if(query.readyState === query.XMLHttpRequest) {
                if(query.readyState === 200) {
                    console.log("Sucess " + query.responseText);
                }else {
                    console.error("Error " + query.status);
                    console.log(query.responseText);
                }
            }
        }
        query.send(null);
    </script>
</body>
</html>